<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
</head>

<body>
        <body onLoad="get()">
        <div id="name">
    
        </div>
      <div class="Top">

      </div>
      <div style="text-align: center;"><h1>글 등록 페이지</h1></div>

      <form name="article_add_form" method="POST">
          <table width="940" style="padding:5px 0 5px 0; ">
             <tr height="2"><td colspan="2"></td></tr>
             <tr>
                <th>Id</th>
                <td><input type="text" id="name" required></td>
             </tr>
              <tr>
                <th>Date</th>
                <td><input type="text" id="date" required></td>
             </tr>

                  <th>EEG</th>
                  <td><input type="file" id="article_image" name="filename"></td>
                </tr>
                  <tr>
                    <td colspan="3" style="text-align: center;">
                    <input type="button" value="등록" onClick="post()" />
                      <input type="reset" value="취소">
                   </td>
                  </table>
                 </form>

      </div>
      
 

  <script>
    const API_URL = 'https://l9biqyi3wk.execute-api.ap-northeast-2.amazonaws.com/stage/board';

    function get() {
      fetch(API_URL, {
          headers: {
            'Accept': 'application/json'
          }
        }).then(res => res.json())
        .then(data => console.log(data))
        .catch(err => console.error(err));
    }
    const Item = {
      "name": name,
      "data": date,
      "Url": article_image
    }
    function post() {
      fetch(API_URL, {
          method: "POST",
          headers: {
            'Accept': 'application/json',
          },
          body: JSON.stringify({
            "TableName": "board-test",
            Item
          })
        }).then(resp => console.log(resp))
        .catch(err => console.log(err))
    }

  </script>

</body>

</html>
